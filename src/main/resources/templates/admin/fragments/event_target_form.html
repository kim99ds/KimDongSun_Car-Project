<!-- templates/admin/event_target_form.html -->
<div th:fragment="content" class="space-y-6">

    <div class="flex items-center justify-between">
        <h1 class="text-2xl font-bold">이벤트 타겟 수정</h1>

        <!-- ✅ tab=targets 로 수정 -->
        <a th:href="@{/admin/event_manage(tab='targets')}"
           class="px-4 py-2 rounded bg-[#333] hover:bg-[#bbb] hover:text-black transition">
            목록으로
        </a>
    </div>

    <form class="bg-[#222] border border-[#333] rounded-xl p-8 space-y-6"
          method="post"
          th:action="@{/admin/event_manage/targets/{id}(id=${target.eventTargetId})}"
          th:object="${targetForm}">

        <div>
            <label class="block text-sm text-gray-300 mb-2">이벤트</label>
            <input class="w-full bg-[#111] border border-[#333] rounded px-4 py-3"
                   type="text"
                   th:value="${target.event.eventId + ' - ' + target.event.title}"
                   readonly>
        </div>

        <div>
            <label class="block text-sm text-gray-300 mb-2">타겟 타입</label>
            <select class="w-full bg-[#111] border border-[#333] rounded px-4 py-3"
                    th:field="*{targetType}" required>
                <option th:each="t : ${targetTypes}"
                        th:value="${t}"
                        th:text="${t}">
                </option>
            </select>
            <p class="mt-2 text-sm text-red-300"
               th:if="${#fields.hasErrors('targetType')}"
               th:errors="*{targetType}">필수 작성 사항입니다.</p>
        </div>

        <div>
            <label class="block text-sm text-gray-300 mb-2">타겟 값</label>
            <input class="w-full bg-[#111] border border-[#333] rounded px-4 py-3"
                   type="text" th:field="*{targetValue}"
                   placeholder="예: Genesis / 현대 / SUV / EV">
            <p class="mt-2 text-sm text-red-300"
               th:if="${#fields.hasErrors('targetValue')}"
               th:errors="*{targetValue}">필수 작성 사항입니다.</p>
        </div>

        <div class="flex gap-3 pt-4">
            <button type="submit"
                    class="bg-[#bbb] text-black px-5 py-3 rounded hover:opacity-90 transition">
                수정 저장
            </button>

            <!-- ✅ tab=targets 로 수정 -->
            <a th:href="@{/admin/event_manage(tab='targets')}"
               class="px-5 py-3 rounded bg-[#333] hover:bg-[#bbb] hover:text-black transition">
                취소
            </a>
        </div>

    </form>
</div>
