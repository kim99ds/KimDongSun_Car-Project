<div th:fragment="content" class="fade-in">

    <div class="navbar bg-card border-b shadow-sm shrink-0 borderz-30 mb-8 border-[#333] flex-col items-start p-0">
        <div class="w-full p-6 flex justify-between items-center">
            <h2 class="text-xl fw-400 ml-2 text-white">
                이벤트 통합 관리 &gt; <span class="text-point">정책 수정</span>
            </h2>
            <div class="px-4 flex items-center gap-4">
                <a th:href="@{/admin/event_manage(tab='policies')}" class="btn-custom btn-ghost-custom text-sm">
                    <i class="fa-solid fa-list mr-2"></i>목록으로
                </a>
            </div>
        </div>
    </div>

    <form class="bg-card shadow-lg p-8 max-w-3xl mx-auto"
          method="post"
          th:action="@{/admin/event_manage/policies/{id}(id=${policy.eventPolicyId})}"
          th:object="${policyForm}">

        <div class="grid grid-cols-1 gap-6">

            <div class="form-control">
                <label class="label mb-1"><span class="label-text text-main">할인 타입</span></label>
                <select class="select w-full" th:field="*{discountType}">
                    <option value="" disabled hidden>선택하세요</option>
                    <option th:each="t : ${discountTypes}" th:value="${t}" th:text="${t}">RATE</option>
                </select>

                <!-- input 안 밀리게: 항상 자리 확보 -->
                <p class="mt-2 text-sm text-red-300 min-h-[1.25rem]"
                   th:classappend="${#fields.hasErrors('discountType')} ? '' : 'invisible'"
                   th:errors="*{discountType}">필수 작성 사항입니다.</p>
            </div>

            <div class="form-control">
                <label class="label mb-1"><span class="label-text text-main">할인 값</span></label>
                <input type="number" step="0.01" class="input w-full text-right" th:field="*{discountValue}" />

                <p class="mt-2 text-sm text-red-300 min-h-[1.25rem]"
                   th:classappend="${#fields.hasErrors('discountValue')} ? '' : 'invisible'"
                   th:errors="*{discountValue}">필수 작성 사항입니다.</p>
            </div>

        </div>

        <div class="flex justify-end gap-3 pt-6">
            <a th:href="@{/admin/event_manage(tab='policies')}" class="btn-custom btn-neutral px-8">취소</a>
            <button type="submit" class="btn-custom btn-brand px-10">
                <i class="fa-solid fa-check mr-2"></i>수정 저장
            </button>
        </div>

    </form>
</div>
